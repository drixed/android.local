{"version":3,"sources":["webpack:///static/js/0.e5ab63b0f0c351e0391d.js","webpack:///./src/components/user/register/index.vue","webpack:///index.vue","webpack:///./src/components/user/register/template.html"],"names":["webpackJsonp","236","module","exports","__webpack_require__","__vue_script__","__vue_template__","__vue_styles__","__esModule","default","__vue_options__","options","template","computed","Object","keys","forEach","key","263","_interopRequireDefault","obj","defineProperty","value","_user2","_user3","_actions","data","_user","age","sexo","password","passwordRepit","firstName","lastName","username","editPassword","formValid","user","getUser","error","formValidMsg","success","email","vuex","actions","setUser","validPassword","this","length","errorMsgPasswrd","repitPasswordValidate","validUser","validEmail","methods","registerUser","signin","then","response","_id","window","location","reload","$route","router","go","i","errors","message","created","379"],"mappings":"AAAAA,cAAc,EAAE,IAEVC,IACA,SAAUC,EAAQC,EAASC,GCHjC,GAAAC,GAAAC,EACAC,IACAF,GAAAD,EAAA,KACAF,EAAAC,QAAAE,MACAH,EAAAC,QAAAK,aAAAN,EAAAC,QAAAD,EAAAC,QAAAM,QACA,IAAAC,GAAA,kBAAAR,GAAAC,QAAAD,EAAAC,QAAAQ,UAAAT,EAAAC,QAAAQ,YAAoHT,EAAAC,OACpHG,KACAI,EAAAE,SAAAN,GAEAI,EAAAG,WAAAH,EAAAG,aACAC,OAAAC,KAAAR,GAAAS,QAAA,SAAAC,GACA,GAAAf,GAAAK,EAAAU,EACAP,GAAAG,SAAAI,GAAA,WAA6C,MAAAf,ODWvCgB,IACA,SAAUhB,EAAQC,EAASC,GAEhC,YAYA,SAASe,GAAuBC,GAAO,MAAOA,IAAOA,EAAIZ,WAAaY,GAAQX,QAASW,GAVvFN,OAAOO,eAAelB,EAAS,cAC7BmB,OAAO,GAGT,IAAIC,GAASnB,EAAoB,GAE7BoB,EAASL,EAAuBI,GEhCrCE,EAAArB,EAAA,GFsCCD,GAAQM,SEpCTG,SAAAR,EAAA,KACAsB,KAFA,WAGA,GAAAC,IACAC,IAAA,KACAC,KAAA,OACAC,SAAA,GACAC,cAAA,GACAC,UAAA,GACAC,SAAA,GACAC,SAAA,GAEA,QACAC,cAAA,EACAC,WAAA,EACAC,KAAAb,EAAAf,QAAA6B,WAAAX,EACAY,MAAA,GACAC,cACAV,UACAW,QAAA,KACAF,MAAA,qBAEAR,eACAU,QAAA,KACAF,MAAA,uBAEAF,MACAI,QAAA,KACAF,MAAA,oCAEAG,OACAD,QAAA,KACAF,MAAA,0BAKAI,MACAC,SACAC,QAAApB,EAAAoB,UAGAhC,UACAiC,cADA,WAEA,MAAAC,MAAAV,KAAAP,UACAiB,KAAAZ,iBAGAY,KAAAV,KAAAP,SAAAkB,OAAA,KACAD,KAAAP,aAAAS,gBAAA,2BACA,IANA,MAUAC,sBAZA,WAaA,MAAAH,MAAAV,KAAAP,UACAiB,KAAAZ,cAGAY,KAAAV,KAAAP,WAAAiB,KAAAV,KAAAN,cAJA,MASAoB,UAtBA,WAuBA,MAAAJ,MAAAV,KAAAH,WACAa,KAAAV,KAAAH,SAAAc,OAAA,GAAAD,KAAAV,KAAAH,SAAAc,OAAA,IADA,MAMAI,WA7BA,WA8BA,MAAAL,MAAAV,KAAAK,QACAK,KAAAV,KAAAK,MAAAM,OAAA,GAAAD,KAAAV,KAAAK,MAAAM,OAAA,IADA,OAOAK,SACAC,aADA,WAEAP,KAAAI,WAAAJ,KAAAK,YAAAL,KAAAG,uBAAAH,KAAAD,gBAGAC,KAAAR,MAAA,UACAf,EAAAf,QAAA8C,OAAAR,UAAAV,MAAAmB,KAAA,SAAAC,GACAV,KAAAR,MAAA,WACAQ,KAAAV,KAAAqB,IACAC,OAAAC,SAAAC,SAEAd,KAAAe,OAAAC,OAAAC,GAAAjB,KAAAV,KAAAqB,IAAA,QAAAX,KAAAV,KAAAH,SAAA,MAEA,SAAAuB,GACA,OAAAQ,KAAAR,GAAA/B,KAAAwC,OACAnB,KAAAR,MAAAkB,EAAA/B,KAAAwC,OAAAD,GAAAE,aAKAC,QAnGA,WAoGArB,KAAAV,KAAAP,SAAA,MF4CMuC,IACA,SAAUnE,EAAQC,GGpJxBD,EAAAC,QAAA","file":"static/js/0.e5ab63b0f0c351e0391d.js","sourcesContent":["webpackJsonp([0,4],{\n\n/***/ 236:\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\tvar __vue_styles__ = {}\n\t__vue_script__ = __webpack_require__(263)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\n\tif (__vue_template__) {\n\t__vue_options__.template = __vue_template__\n\t}\n\tif (!__vue_options__.computed) __vue_options__.computed = {}\n\tObject.keys(__vue_styles__).forEach(function (key) {\n\tvar module = __vue_styles__[key]\n\t__vue_options__.computed[key] = function () { return module }\n\t})\n\n\n/***/ }),\n\n/***/ 263:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _user2 = __webpack_require__(6);\n\t\n\tvar _user3 = _interopRequireDefault(_user2);\n\t\n\tvar _actions = __webpack_require__(41);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  template: __webpack_require__(379),\n\t  data: function data() {\n\t    var _user = {\n\t      age: null,\n\t      sexo: 'male',\n\t      password: '',\n\t      passwordRepit: '',\n\t      firstName: '',\n\t      lastName: '',\n\t      username: ''\n\t    };\n\t    return {\n\t      editPassword: true,\n\t      formValid: false,\n\t      user: _user3.default.getUser() || _user,\n\t      error: '',\n\t      formValidMsg: {\n\t        password: {\n\t          success: 'Ok',\n\t          error: 'Придумайте пароль'\n\t        },\n\t        passwordRepit: {\n\t          success: 'Ок',\n\t          error: 'Пароли не совпадают'\n\t        },\n\t        user: {\n\t          success: 'Ок',\n\t          error: 'Введите имя латинскими символами'\n\t        },\n\t        email: {\n\t          success: 'Ок',\n\t          error: 'Введите Email-адрес'\n\t        }\n\t      }\n\t    };\n\t  },\n\t\n\t  vuex: {\n\t    actions: {\n\t      setUser: _actions.setUser\n\t    }\n\t  },\n\t  computed: {\n\t    validPassword: function validPassword() {\n\t      if (!this.user.password) return null;\n\t      if (!this.editPassword) {\n\t        return true;\n\t      }\n\t      if (this.user.password.length < 5) {\n\t        this.formValidMsg.errorMsgPasswrd = 'Пароль слишком короткий';\n\t        return false;\n\t      }\n\t      return true;\n\t    },\n\t    repitPasswordValidate: function repitPasswordValidate() {\n\t      if (!this.user.password) return null;\n\t      if (!this.editPassword) {\n\t        return true;\n\t      }\n\t      if (this.user.password !== this.user.passwordRepit) {\n\t        return false;\n\t      }\n\t      return true;\n\t    },\n\t    validUser: function validUser() {\n\t      if (!this.user.username) return null;\n\t      if (this.user.username.length < 4 || this.user.username.length > 20) {\n\t        return false;\n\t      }\n\t      return true;\n\t    },\n\t    validEmail: function validEmail() {\n\t      if (!this.user.email) return null;\n\t      if (this.user.email.length < 4 || this.user.email.length > 20) {\n\t        return false;\n\t      }\n\t      return true;\n\t    }\n\t  },\n\t  methods: {\n\t    registerUser: function registerUser() {\n\t      if (!this.validUser || !this.validEmail || !this.repitPasswordValidate || !this.validPassword) {\n\t        return;\n\t      }\n\t      this.error = 'process';\n\t      _user3.default.signin(this, this.user).then(function (response) {\n\t        this.error = 'redirect';\n\t        if (this.user._id) {\n\t          window.location.reload();\n\t        } else {\n\t          this.$route.router.go(this.user._id ? 'user/' + this.user.username : '/');\n\t        }\n\t      }, function (response) {\n\t        for (var i in response.data.errors) {\n\t          this.error = response.data.errors[i].message;\n\t        }\n\t      });\n\t    }\n\t  },\n\t  created: function created() {\n\t    this.user.password = '';\n\t  }\n\t};\n\n/***/ }),\n\n/***/ 379:\n/***/ (function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"row container\\\"> <h4 class=flat-text-header style=\\\"text-align: center\\\" v-if=!user._id>{{ $t(\\\"register.title\\\") }}</h4> <div style=\\\"text-align: center\\\"><p>{{error| json}}</p></div> <form class=\\\"col s12\\\" v-on:submit.prevent=registerUser()> <div class=\\\"row card-panel\\\"> <div class=\\\"row demo\\\"> <md-input :value.sync=user.username class=\\\"col s12 m6 l6\\\" :success-msg=formValidMsg.user.success :error-msg=formValidMsg.user.error :valid=validUser> {{ $t(\\\"register.username\\\") }} </md-input> <md-input name=last_name :value.sync=user.email class=\\\"col s12 m6 l6\\\" :success-msg=formValidMsg.email.success :error-msg=formValidMsg.email.error :valid=validEmail> {{ $t(\\\"register.email\\\") }} </md-input> </div> <div class=\\\"row demo\\\" v-if=user._id> <div class=\\\"col s4\\\"> <md-checkbox :value.sync=editPassword> Изменить пароль </md-checkbox> </div> </div> <div class=\\\"row demo\\\" v-if=editPassword> <md-input type=password class=\\\"col s12 m6 l6\\\" :value.sync=user.password :success-msg=formValidMsg.password.success :error-msg=formValidMsg.password.error :valid=validPassword> {{ $t(\\\"register.password\\\") }} </md-input> <md-input type=password class=\\\"col s12 m6 l6\\\" :value.sync=user.passwordRepit :success-msg=formValidMsg.passwordRepit.success :error-msg=formValidMsg.passwordRepit.error :valid=repitPasswordValidate> {{ $t(\\\"register.passwordRepit\\\") }} </md-input> </div> </div> <md-button class=\\\"waves-effect waves-light col s6 m6 l6\\\" @click=registerUser()> <md-icon left>check</md-icon> {{ [user._id ? 'Сохранить' : $t(\\\"register.insert\\\")] }} </md-button> <md-button class=\\\"waves-effect waves-light col s6 m6 l6 cancel\\\" v-link=\\\"{name: user._id?'user':'home'}\\\"> {{ $t(\\\"register.cancel\\\") }} </md-button> </form> <style scoped> .input-field label {\\n            right: 10px !important;\\n            left: 10px;\\n            width: 100%;\\n        }\\n        .cancel{\\n          background: #666\\n        }\\n        input:not([type]) + label:after, input[type=text] + label:after, input[type=password] + label:after, input[type=email] + label:after, input[type=url] + label:after, input[type=time] + label:after, input[type=date] + label:after, input[type=datetime-local] + label:after, input[type=tel] + label:after, input[type=number] + label:after, input[type=search] + label:after, textarea.materialize-textarea + label:after {\\n            display: block;\\n            content: \\\"\\\";\\n            position: absolute;\\n            top: 57px;\\n            opacity: 0;\\n            transition: .2s opacity ease-out, .2s color ease-out;\\n        } </style> </div> \";\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/0.e5ab63b0f0c351e0391d.js","var __vue_script__, __vue_template__\nvar __vue_styles__ = {}\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!../../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./index.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/register/index.vue\n// module id = 236\n// module chunks = 0","<script>\nimport UserService from '../../../services/user'\nimport { setUser } from '../../../vuex/actions'\nexport default {\n  template: require('./template.html'),\n  data () {\n    var _user = {\n      age: null,\n      sexo: 'male',\n      password: '',\n      passwordRepit: '',\n      firstName: '',\n      lastName: '',\n      username: ''\n    };\n    return {\n      editPassword: true,\n      formValid: false,\n      user: UserService.getUser() || _user,\n      error: '',\n      formValidMsg: {\n        password: {\n          success: 'Ok',\n          error: 'Придумайте пароль'\n        },\n        passwordRepit: {\n          success: 'Ок',\n          error: 'Пароли не совпадают'\n        },\n        user: {\n          success: 'Ок',\n          error: 'Введите имя латинскими символами'\n        },\n        email: {\n          success: 'Ок',\n          error: 'Введите Email-адрес'\n        }\n      }\n    }\n  },\n  vuex: {\n    actions: {\n      setUser\n    }\n  },\n  computed: {\n    validPassword () {\n      if (!this.user.password) return null;\n      if (!this.editPassword) {\n        return true\n      }\n      if (this.user.password.length < 5) {\n        this.formValidMsg.errorMsgPasswrd = 'Пароль слишком короткий';\n        return false\n      }\n      return true\n    },\n    repitPasswordValidate () {\n      if (!this.user.password) return null;\n      if (!this.editPassword) {\n        return true\n      }\n      if (this.user.password !== this.user.passwordRepit) {\n        return false\n      }\n      return true\n    },\n    validUser () {\n      if (!this.user.username) return null;\n      if (this.user.username.length < 4 || this.user.username.length > 20) {\n        return false\n      }\n      return true\n    },\n    validEmail () {\n      if (!this.user.email) return null;\n      if (this.user.email.length < 4 || this.user.email.length > 20) {\n        return false\n      }\n      return true\n    }\n  },\n  methods: {\n    registerUser () {\n      if (!this.validUser || !this.validEmail || !this.repitPasswordValidate || !this.validPassword) {\n        return\n      }\n      this.error = 'process';\n      UserService.signin(this, this.user).then(function (response) {\n        this.error = 'redirect';\n        if (this.user._id) {\n          window.location.reload()\n        } else {\n          this.$route.router.go(this.user._id ? 'user/' + this.user.username : '/')\n        }\n      }, function (response) {\n        for (var i in response.data.errors) {\n          this.error = response.data.errors[i].message\n        }\n      })\n    }\n  },\n  created () {\n    this.user.password = ''\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// index.vue?7dee4dd6","module.exports = \"<div class=\\\"row container\\\"> <h4 class=flat-text-header style=\\\"text-align: center\\\" v-if=!user._id>{{ $t(\\\"register.title\\\") }}</h4> <div style=\\\"text-align: center\\\"><p>{{error| json}}</p></div> <form class=\\\"col s12\\\" v-on:submit.prevent=registerUser()> <div class=\\\"row card-panel\\\"> <div class=\\\"row demo\\\"> <md-input :value.sync=user.username class=\\\"col s12 m6 l6\\\" :success-msg=formValidMsg.user.success :error-msg=formValidMsg.user.error :valid=validUser> {{ $t(\\\"register.username\\\") }} </md-input> <md-input name=last_name :value.sync=user.email class=\\\"col s12 m6 l6\\\" :success-msg=formValidMsg.email.success :error-msg=formValidMsg.email.error :valid=validEmail> {{ $t(\\\"register.email\\\") }} </md-input> </div> <div class=\\\"row demo\\\" v-if=user._id> <div class=\\\"col s4\\\"> <md-checkbox :value.sync=editPassword> Изменить пароль </md-checkbox> </div> </div> <div class=\\\"row demo\\\" v-if=editPassword> <md-input type=password class=\\\"col s12 m6 l6\\\" :value.sync=user.password :success-msg=formValidMsg.password.success :error-msg=formValidMsg.password.error :valid=validPassword> {{ $t(\\\"register.password\\\") }} </md-input> <md-input type=password class=\\\"col s12 m6 l6\\\" :value.sync=user.passwordRepit :success-msg=formValidMsg.passwordRepit.success :error-msg=formValidMsg.passwordRepit.error :valid=repitPasswordValidate> {{ $t(\\\"register.passwordRepit\\\") }} </md-input> </div> </div> <md-button class=\\\"waves-effect waves-light col s6 m6 l6\\\" @click=registerUser()> <md-icon left>check</md-icon> {{ [user._id ? 'Сохранить' : $t(\\\"register.insert\\\")] }} </md-button> <md-button class=\\\"waves-effect waves-light col s6 m6 l6 cancel\\\" v-link=\\\"{name: user._id?'user':'home'}\\\"> {{ $t(\\\"register.cancel\\\") }} </md-button> </form> <style scoped> .input-field label {\\n            right: 10px !important;\\n            left: 10px;\\n            width: 100%;\\n        }\\n        .cancel{\\n          background: #666\\n        }\\n        input:not([type]) + label:after, input[type=text] + label:after, input[type=password] + label:after, input[type=email] + label:after, input[type=url] + label:after, input[type=time] + label:after, input[type=date] + label:after, input[type=datetime-local] + label:after, input[type=tel] + label:after, input[type=number] + label:after, input[type=search] + label:after, textarea.materialize-textarea + label:after {\\n            display: block;\\n            content: \\\"\\\";\\n            position: absolute;\\n            top: 57px;\\n            opacity: 0;\\n            transition: .2s opacity ease-out, .2s color ease-out;\\n        } </style> </div> \";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/register/template.html\n// module id = 379\n// module chunks = 0"],"sourceRoot":""}