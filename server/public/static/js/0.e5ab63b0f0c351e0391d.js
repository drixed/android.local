webpackJsonp([0,4],{236:function(e,s,r){var t,a,i={};t=r(263),e.exports=t||{},e.exports.__esModule&&(e.exports=e.exports.default);var o="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;a&&(o.template=a),o.computed||(o.computed={}),Object.keys(i).forEach(function(e){var s=i[e];o.computed[e]=function(){return s}})},263:function(e,s,r){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(s,"__esModule",{value:!0});var a=r(6),i=t(a),o=r(41);s.default={template:r(379),data:function(){var e={age:null,sexo:"male",password:"",passwordRepit:"",firstName:"",lastName:"",username:""};return{editPassword:!0,formValid:!1,user:i.default.getUser()||e,error:"",formValidMsg:{password:{success:"Ok",error:"Придумайте пароль"},passwordRepit:{success:"Ок",error:"Пароли не совпадают"},user:{success:"Ок",error:"Введите имя латинскими символами"},email:{success:"Ок",error:"Введите Email-адрес"}}}},vuex:{actions:{setUser:o.setUser}},computed:{validPassword:function(){return this.user.password?!this.editPassword||(!(this.user.password.length<5)||(this.formValidMsg.errorMsgPasswrd="Пароль слишком короткий",!1)):null},repitPasswordValidate:function(){return this.user.password?!this.editPassword||this.user.password===this.user.passwordRepit:null},validUser:function(){return this.user.username?!(this.user.username.length<4||this.user.username.length>20):null},validEmail:function(){return this.user.email?!(this.user.email.length<4||this.user.email.length>20):null}},methods:{registerUser:function(){this.validUser&&this.validEmail&&this.repitPasswordValidate&&this.validPassword&&(this.error="process",i.default.signin(this,this.user).then(function(e){this.error="redirect",this.user._id?window.location.reload():this.$route.router.go(this.user._id?"user/"+this.user.username:"/")},function(e){for(var s in e.data.errors)this.error=e.data.errors[s].message}))}},created:function(){this.user.password=""}}},379:function(e,s){e.exports='<div class="row container"> <h4 class=flat-text-header style="text-align: center" v-if=!user._id>{{ $t("register.title") }}</h4> <div style="text-align: center"><p>{{error| json}}</p></div> <form class="col s12" v-on:submit.prevent=registerUser()> <div class="row card-panel"> <div class="row demo"> <md-input :value.sync=user.username class="col s12 m6 l6" :success-msg=formValidMsg.user.success :error-msg=formValidMsg.user.error :valid=validUser> {{ $t("register.username") }} </md-input> <md-input name=last_name :value.sync=user.email class="col s12 m6 l6" :success-msg=formValidMsg.email.success :error-msg=formValidMsg.email.error :valid=validEmail> {{ $t("register.email") }} </md-input> </div> <div class="row demo" v-if=user._id> <div class="col s4"> <md-checkbox :value.sync=editPassword> Изменить пароль </md-checkbox> </div> </div> <div class="row demo" v-if=editPassword> <md-input type=password class="col s12 m6 l6" :value.sync=user.password :success-msg=formValidMsg.password.success :error-msg=formValidMsg.password.error :valid=validPassword> {{ $t("register.password") }} </md-input> <md-input type=password class="col s12 m6 l6" :value.sync=user.passwordRepit :success-msg=formValidMsg.passwordRepit.success :error-msg=formValidMsg.passwordRepit.error :valid=repitPasswordValidate> {{ $t("register.passwordRepit") }} </md-input> </div> </div> <md-button class="waves-effect waves-light col s6 m6 l6" @click=registerUser()> <md-icon left>check</md-icon> {{ [user._id ? \'Сохранить\' : $t("register.insert")] }} </md-button> <md-button class="waves-effect waves-light col s6 m6 l6 cancel" v-link="{name: user._id?\'user\':\'home\'}"> {{ $t("register.cancel") }} </md-button> </form> <style scoped> .input-field label {\n            right: 10px !important;\n            left: 10px;\n            width: 100%;\n        }\n        .cancel{\n          background: #666\n        }\n        input:not([type]) + label:after, input[type=text] + label:after, input[type=password] + label:after, input[type=email] + label:after, input[type=url] + label:after, input[type=time] + label:after, input[type=date] + label:after, input[type=datetime-local] + label:after, input[type=tel] + label:after, input[type=number] + label:after, input[type=search] + label:after, textarea.materialize-textarea + label:after {\n            display: block;\n            content: "";\n            position: absolute;\n            top: 57px;\n            opacity: 0;\n            transition: .2s opacity ease-out, .2s color ease-out;\n        } </style> </div> '}});
//# sourceMappingURL=0.e5ab63b0f0c351e0391d.js.map